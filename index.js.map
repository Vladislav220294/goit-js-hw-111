{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createImageTemplate = imageInfo => {\n    return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${imageInfo.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${imageInfo.previewURL}\"\n      alt=\"${imageInfo.tags}\"\n    />\n  </a>\n</li>\n`\n};","const baseUrl = 'https://pixabay.com/api/';\n\nexport const fetchImages = searchedQuery => {\n  return fetch(`${baseUrl}?&key=25284590-6d373146c28d5b297cc6c7db9&q=${searchedQuery}&image_type=photo&orientation=horizontal&safesearch=true`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    },\n  );\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { createImageTemplate } from \"./js/render-functions\";\nimport { fetchImages } from \"./js/pixabay-api\";\n\nconst searchFormEl = document.querySelector('.feedback-form');\nconst galleryEl = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\n\nconst onSearchFormSubmit = event => {\n    galleryEl.innerHTML = '';\n    event.preventDefault();\n    const searchedQuery = event.currentTarget.elements.text.value.trim();\n    if (searchedQuery === '') {\n        iziToast.error({\n        title: 'Error',\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n        galleryEl.innerHTML = '';\n        searchFormEl.reset();\n        loader.style.display = 'none';\n        return;\n    }\n    loader.style.display = 'flex';\n    fetchImages(searchedQuery).then(data => {\n        // console.log(data)\n        if (data.hits.length === 0) {\n            iziToast.error({\n        title: 'Error',\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n      });\n            galleryEl.innerHTML = '';\n            searchFormEl.reset();\n            loader.style.display = 'none';\n            return;\n        }\n        const galleryTemplate = data.hits.map(el => createImageTemplate(el)).join('');\n        \n        galleryEl.innerHTML = galleryTemplate; \n        \n        searchFormEl.reset();\n        new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250 }).refresh();\n        loader.style.display = 'none';\n    }).catch(error => {\n      if (error === '404') {\n          alert('error')\n      }\n  })\n}\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createImageTemplate","imageInfo","baseUrl","fetchImages","searchedQuery","response","searchFormEl","galleryEl","loader","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAsBC,GACxB;AAAA,kCACuBA,EAAU,aAAa;AAAA;AAAA;AAAA,aAG5CA,EAAU,UAAU;AAAA,aACpBA,EAAU,IAAI;AAAA;AAAA;AAAA;AAAA,ECNrBC,EAAU,2BAEHC,EAAcC,GAClB,MAAM,GAAGF,CAAO,8CAA8CE,CAAa,0DAA0D,EAAE,KAC5IC,GAAY,CACV,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACjB,CACL,ECHMC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAEvB,MAAMC,EAAqBC,GAAS,CAChCH,EAAU,UAAY,GACtBG,EAAM,eAAc,EACpB,MAAMN,EAAgBM,EAAM,cAAc,SAAS,KAAK,MAAM,OAC9D,GAAIN,IAAkB,GAAI,CACtBO,EAAS,MAAM,CACf,MAAO,QACP,QAAS,0EACjB,CAAS,EACDJ,EAAU,UAAY,GACtBD,EAAa,MAAK,EAClBE,EAAO,MAAM,QAAU,OACvB,MACH,CACDA,EAAO,MAAM,QAAU,OACvBL,EAAYC,CAAa,EAAE,KAAKQ,GAAQ,CAEpC,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACnB,MAAO,QACP,QAAS,0EACjB,CAAO,EACKJ,EAAU,UAAY,GACtBD,EAAa,MAAK,EAClBE,EAAO,MAAM,QAAU,OACvB,MACH,CACD,MAAMK,EAAkBD,EAAK,KAAK,IAAIE,GAAMd,EAAoBc,CAAE,CAAC,EAAE,KAAK,EAAE,EAE5EP,EAAU,UAAYM,EAEtBP,EAAa,MAAK,EAClB,IAAIS,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EAAE,UAC7EP,EAAO,MAAM,QAAU,MAC/B,CAAK,EAAE,MAAMQ,GAAS,CACZA,IAAU,OACV,MAAM,OAAO,CAEvB,CAAG,CACH,EACAV,EAAa,iBAAiB,SAAUG,CAAkB"}